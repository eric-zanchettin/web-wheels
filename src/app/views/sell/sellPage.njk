{% extends "layout.njk" %}

{% block head %}

    <title>WebWheels - Nova Venda</title>

{% endblock %}

{% block content %}

    <form action="/sell" method="POST" enctype="multipart/form-data">
        <div class="card part1">
            <h1>Cadastrando nova Venda</h1>
            <h4>√ìtimo! Vamos cadastrar sua venda? Para come√ßar,<br/>precisaremos de algumas <b>Informa√ß√µes B√°sicas</b> sobre seu Ve√≠culo!</h4>
            
            <div class="selling-info">

                <div class="fields car-name">
                    <h3>Qual carro deseja Vender?</h3>
                    <input
                    class="inptFormat"
                    type="text"
                    name="car_model"
                    id="car_model"
                    placeholder="Comece a digitar e clique na Sugest√£o ..."
                    autocomplete="off"
                    onkeyup="carsData.filterCar(this.value)" />
                </div>
                <div class="fields color">
                    <h3>Qual a Cor do seu Ve√≠culo?</h3>
                    <select class="inptFormat" name="color" id="color" onchange="colorChange.previewBoxColor()">
                        <option value="null" selected>--- SELECIONE UMA COR ---</option>
                        <option value="Dourado">Amarelo/Dourado</option>
                        <option value="Azul">Azul</option>
                        <option value="Branco">Branco</option>
                        <option value="Laranja">Laranja</option>
                        <option value="Marrom">Marrom</option>
                        <option value="Prata">Prata</option>
                        <option value="Preto">Preto</option>
                        <option value="Rosa">Rosa</option>
                        <option value="Roxo">Roxo</option>
                        <option value="Verde">Verde</option>
                        <option value="Vermelho">Vermelho</option>
                        <option value="Outra">Outras Cores</option>
                    </select>
                    <input type="color" name="color-preview" id="color-preview" value="#FFFFFF" disabled>
                </div>
                <div class="fields">
                    <h3>Ano de Fabrica√ß√£o:</h3>
                    <input class="inptFormat" type="number" name="car_year" id="car_year" placeholder="O Ano em que seu Carro foi Fabricado ..." min="1950" max={{ maxYear }}>
                </div>
                <div class="fields">
                    <h3>Quilometragem:</h3>
                    <input class="inptFormat" type="text" name="km" id="km" placeholder="Quantos KM rodados com seu carro ..." onkeydown="formatInputValues.applyFormat(this, 'formatKm')">
                </div>
                <div class="fields">
                    <h3>Combust√≠vel:</h3>
                    <select class="inptFormat" name="gas_type" id="gas_type">
                        <option value="null" selected>--- SELECIONE O ABASTECIMENTO ---</option>
                        <option value="√Ålcool">√Ålcool</option>
                        <option value="Gasolina">Gasolina</option>
                        <option value="Diesel">Diesel</option>
                        <option value="Flex">Flex (Gasolina e √Ålcool)</option>
                        <option value="GNV">GNV (G√°s Natural Veicular)</option>
                        <option value="El√©trico">El√©trico</option>
                        <option value="H√≠brido">H√≠brido (El√©trico, Gasolina e √Ålcool)</option>
                    </select>
                </div>
                <div class="fields">
                    <h3>Final da Placa:</h3>
                    <input class="inptFormat" type="number" name="plate_num" id="plate-num" placeholder="O √∫ltimo n√∫mero da sua Placa ..." min="0" max="9">
                </div>
                <div class="fields">
                    <h3>Carroceria:</h3>
                    <select class="inptFormat" name="car_type" id="car_type">
                        <option value="null" selected>--- SELECIONE UMA CARROCERIA ---</option>
                        <option value="Hatchback">Hatch/Hatchback</option>
                        <option value="Sed√£">Sed√£</option>
                        <option value="Station Wagon">Perua/Station Wagon (SW)</option>
                        <option value="Coup√©">Coup√©/Cup√™</option>
                        <option value="Convers√≠vel">Convers√≠vel</option>
                        <option value="Minivan">Minivan</option>
                        <option value="Limousine">Limousine</option>
                        <option value="SUV">SUV</option>
                        <option value="Jipe">Jipe</option>
                        <option value="Picape">Caminhonete/Picape</option>
                    </select>
                </div>
                <div class="fields">
                    <h3>IPVA Pago?</h3>
                    <div class="ipva radio">
                        <input type="radio" name="ipva" id="ISim" value="Sim" checked /><label for="ISim">Sim</label>
                        <input type="radio" name="ipva" id="IN√£o" value="N√£o" /><label for="IN√£o">N√£o</label>
                    </div>
                </div>
                <div class="fields">
                    <h3>C√¢mbio:</h3>
                    <select class="inptFormat" name="cambium" id="cambium">
                        <option value="null" selected>--- SELECIONE O TIPO DO C√ÇMBIO ---</option>
                        <option value="Autom√°tico">Autom√°tico</option>
                        <option value="Automatizada de dupla embreagem">Automatizada de dupla embreagem</option>
                        <option value="CVT">CVT</option>
                        <option value="Mec√¢nica">Mec√¢nica/Manual</option>
                        <option value="Semi-Autom√°tico">Semi-Autom√°tico</option>
                    </select>
                </div>
                <div class="fields">
                    <h3>√önico Dono?</h3>
                    <div class="owner radio">
                        <input type="radio" name="owner" id="OSim" value="Sim" checked /><label for="OSim">Sim</label>
                        <input type="radio" name="owner" id="ON√£o" value="N√£o" /><label for="ON√£o">N√£o</label>
                    </div>
            </div>
        </div>
            <div class="arrows">
                <div class="blocked">
                    <i class="material-icons">arrow_back</i>
                </div>
                <div class="next">
                    <i class="material-icons" onclick="sellingForm.nextForm('1')">arrow_forward</i>
                </div>
            </div>

        <!-- FORM DIVIDE (pt. 1 to pt. 2) --> 

    </div>

        <div class="card part2 form-hidden">
            <h1>Cadastrando nova Venda</h1>
            <h4>Perfeito, estamos chegando l√°! Nesta parte, gostar√≠amos<br/>que voc√™ <b>descrevesse</b> mais sobre o seu ve√≠culo ...</h4>
            
            <div class="selling-items">
                <h3>Descri√ß√£o do Ve√≠culo:</h3>
                <textarea name="description" id="description" cols="30" rows="10" maxlength="1500"
                placeholder="Algumas dicas: Informar sobre a documenta√ß√£o, em dia ou atrasada, ser transparente e repassar detalhes positivos e negativos como: carro bem cuidado, interior impec√°vel, ou ent√£o, informar sobre batidas/arranh√µes, - os famosos detalhes - caso houver, problemas na suspens√£o etc ... Max.(1500)"></textarea>
                
                <h3>Itens:</h3>
                <h4>Aqui voc√™ tem liberdade para escolher alguns itens que o seu carro<br/>possui e voc√™ pode adicionar todos os itens caso os tenha,<br/>mas n√£o se esque√ßa de clicar no Bot√£o <b>"+"</b> ao encontrar o item desejado:</h4>
                <div class="add">
                    <select name="itens-select" id="itens">
                        <option value="null">---SELECIONE UM ITEM ---</option>
                        <option value="Airbag">Airbag</option>
                        <option value="Ar Condicionado">Ar Condicionado</option>
                        <option value="Ar Quente">Ar Quente</option>
                        <option value="Alarme">Alarme</option>
                        <option value="Travas El√©tricas">Travas El√©tricas</option>
                        <option value="Freio ABS">Freio ABS</option>
                        <option value="GPS">GPS</option>
                        <option value="Controle de Tra√ß√£o">Controle de Tra√ß√£o</option>
                        <option value="Desemba√ßador Traseiro">Desemba√ßador Traseiro</option>
                        <option value="Sensores de Estacionamento">Sensores de Estacionamento</option>
                        <option value="Volante com Regulagem de Altura">Volante com Regulagem de Altura</option>
                        <option value="Blindagem">Blindagem</option>
                        <option value="R√°dio MP3">R√°dio MP3</option>
                        <option value="R√°dio Bluetooth">R√°dio Bluetooth</option>
                        <option value="Computador de Bordo">Computador de Bordo</option>
                        <option value="Rodas de Liga Leve">Rodas de Liga Leve</option>
                    </select>
                    <i class="material-icons add-box">add_box</i>
                    <div class="itens-container"></div>
                    <p id="removal">√Ä medida que voc√™ for adicionando os Itens,<br/>os mesmos ir√£o aparecer por aqui ...</p>
                    <input type="hidden" name="itens_array" />
                </div>
            </div>
            <div class="arrows">
                <div class="previous">
                    <i class="material-icons" onclick="sellingForm.previousForm('2')">arrow_back</i>
                </div>
                <div class="next">
                    <i class="material-icons" onclick="sellingForm.nextForm('2')">arrow_forward</i>
                </div>
            </div>
        </div>

        <!-- FORM DIVIDE (pt. 2 to pt. 3) --> 

        <div class="card part3 form-hidden">
            <h1>Cadastrando nova Venda</h1>
            <h4>Agora falta pouco üòÅ. Para deixarmos seu an√∫ncio mais bonito,<br/>precisamos de algumas fotos do seu potente!
            Seria interessante fotografar o<br/>interior e o exterior, al√©m do mais, recomendamos cerca de 6 Fotos.</h4>

            <div class="border">
                <input type="file" name="photos" id="photos" multiple accept="image/*" onchange="handleImage.startPreview(event)" />
                <div>
                    Escolher Arquivos
                    <i class="material-icons">add_photo_alternate</i>
                </div>
            </div>
            <div class="preview-images">
                    
            </div>
            <div class="arrows">
                <div class="previous">
                    <i class="material-icons" onclick="sellingForm.previousForm('3')">arrow_back</i>
                </div>
                <div class="next">
                    <i class="material-icons" onclick="sellingForm.nextForm('3')">arrow_forward</i>
                </div>
            </div>
        </div>

        <!-- FORM DIVIDE (pt. 3 to pt. 4) --> 

        <div class="card part4 form-hidden">
            <h1>Cadastrando nova Venda</h1>
            <h4>Beleza, prometemos que esta √© a √∫ltima telinha antes de anunciarmos seu carr√£o!<br/>Nesta parte, gostariamos de informa√ß√µes de contato com voc√™ ... Indique para n√≥s aonde seu carro<br/>encontra-se dispon√≠vel para eventuais visitas e at√© concretiza√ß√£o da venda,<br/>seu telefone, e claro, o pre√ßo do an√∫ncio!</h4>

            <div class="selling-info">

                <div class="fields">
                    <h3>CEP:</h3>
                    <input class="inptFormat" type="text" name="cep" id="cep" value="{{ userAddress.cep }}" placeholder="Seu C√≥digo Postal ..." onkeydown="formatInputValues.applyFormat(this, 'formatCep')" />
                </div>

                <div class="fields">
                    <h3>Rua:</h3>
                    <input class="inptFormat" type="text" name="road" id="road" value="{{ userAddress.road }}" placeholder="O nome da sua Rua ..." />
                </div>

                <div class="fields">
                    <h3>Bairro:</h3>
                    <input class="inptFormat" type="text" name="neighborhood" id="neighborhood" value="{{ userAddress.neighborhood }}" placeholder="O nome do seu Bairro ..." />
                </div>

                <div class="fields">
                    <h3>Estado e Cidade:</h3>
                    <input class="inptFormat" type="text" name="city" id="city" value="{{ userAddress.city }}" placeholder="Ex: S√£o Paulo - SP" />
                </div>

                <div class="fields">
                    <h3>Complemento:</h3>
                    <input class="inptFormat" type="text" name="complement" id="complement" value="{{ userAddress.complement }}" placeholder="Ex: N¬∫ 322 / Apto. 74 / Casa ou Empresa ..." />
                </div>

                <div class="fields">
                    <h3>Refer√™ncia:</h3>
                    <input class="inptFormat" type="text" name="reference" id="reference" value="{{ userAddress.reference }}" placeholder="Ex: Pr√≥ximo √† Pra√ßa Juventude ..."  />
                </div>

                <div class="fields">
                    <h3>Telefone para Contato:</h3>
                    <input class="inptFormat" type="text" name="phone" id="phone" value="{{ userAddress.phone }}" placeholder="Seu melhor telefone/celular ..." onkeydown="formatInputValues.applyFormat(this, 'formatPhone')" />
                </div>

                <div class="fields">
                    <h3>Pre√ßo do An√∫ncio:</h3>
                    <input class="inptFormat" type="text" name="price" id="price" placeholder="O pre√ßo do seu ve√≠culo ..." onkeydown="formatInputValues.applyFormat(this, 'formatPrice')" />
                </div>

                <div class="dynamic-update">
                    <input type="hidden" name="adressAvailabilityCheck" id="adress-availability-check" value="{{ userAddress.cep }}" />
                    <input type="hidden" name="updateOrNot" id="updateOrNot" value="0" />
                </div>

                <div>
                    <button class="btn sell" type="submit" onclick="changedCep.ask()">Vender Agora</button>
                </div>

            </div>
            <div class="arrows">
                <div class="previous">
                    <i class="material-icons" onclick="sellingForm.previousForm('4')">arrow_back</i>
                </div>
                <div class="blocked">
                    <i class="material-icons">arrow_forward</i>
                </div>
            </div>
        </div>
    </form>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="/carsData.js"></script>

{% endblock %}